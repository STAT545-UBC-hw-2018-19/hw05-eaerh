Homework assignment 05
================

``` r
library(gapminder)
library(forcats)
library(ggplot2)
```

    ## Warning: package 'ggplot2' was built under R version 3.4.4

``` r
library(tidyr)
```

    ## Warning: package 'tidyr' was built under R version 3.4.4

``` r
library(dplyr)
```

    ## Warning: package 'dplyr' was built under R version 3.4.4

    ## 
    ## Attaching package: 'dplyr'

    ## The following objects are masked from 'package:stats':
    ## 
    ##     filter, lag

    ## The following objects are masked from 'package:base':
    ## 
    ##     intersect, setdiff, setequal, union

``` r
library(plotly)
```

    ## 
    ## Attaching package: 'plotly'

    ## The following object is masked from 'package:ggplot2':
    ## 
    ##     last_plot

    ## The following object is masked from 'package:stats':
    ## 
    ##     filter

    ## The following object is masked from 'package:graphics':
    ## 
    ##     layout

``` r
library(readr)
```

Part 1: Factor Rearrangement
============================

Drop Oceania.
-------------

Some information about the data set prior to change:

``` r
# number of rows and levels of data set
(nrow(gapminder))
```

    ## [1] 1704

``` r
(nlevels(gapminder))
```

    ## [1] 0

Dropping Oceania:

``` r
gap_drop <- gapminder %>% 
  filter(continent != 'Oceania')
```

    ## Warning: package 'bindrcpp' was built under R version 3.4.4

``` r
#display same information after dropped factor
(nrow(gap_drop))
```

    ## [1] 1680

``` r
(nlevels(gap_drop$continent))
```

    ## [1] 5

Unused levels are still present. We can remove these by using $:

``` r
gap_drop_levels <- gap_drop %>% 
  droplevels()

#display same information after dropped unused levels
(nrow(gap_drop_levels))
```

    ## [1] 1680

``` r
(nlevels(gap_drop_levels$continent))
```

    ## [1] 4

Reorder the levels of country or continent
------------------------------------------

The data is by default ordered alphabetically. Let us instead order the countries by minimum population using $:

``` r
reordered_cntry <- fct_reorder(gap_drop_levels$country, gap_drop_levels$pop, min) 

reordered_cntry %>% 
  levels() %>% 
  head(5) %>% 
  knitr::kable()
```

| x                     |
|:----------------------|
| Sao Tome and Principe |
| Djibouti              |
| Bahrain               |
| Iceland               |
| Comoros               |

We can check whether this is correct by manually calculating the minimum population through the years:

``` r
gap_drop_levels %>% 
  group_by(country) %>% 
  summarize(min_p = min(pop)) %>% 
  arrange(min_p) %>% 
  head(5) %>% 
  knitr::kable()
```

| country                  |  min\_p|
|:-------------------------|-------:|
| Sao Tome and Principe    |   60011|
| Djibouti                 |   63149|
| Bahrain                  |  120447|
| Iceland                  |  147962|
| Comoros                  |  153936|
| Which yields the same an |   swer.|

Let us order `continent` by life expectancy:

``` r
reordered_cont <- fct_reorder(gap_drop_levels$continent, gap_drop_levels$lifeExp, min) 

reordered_cont %>% 
  levels() %>% 
  head(5) %>% 
  knitr::kable()
```

| x        |
|:---------|
| Africa   |
| Asia     |
| Americas |
| Europe   |

And manually:

``` r
gap_drop_levels %>% 
  group_by(continent) %>% 
  summarize(min_e = min(lifeExp)) %>% 
  arrange(min_e) %>% 
  head(5) %>% 
  knitr::kable()
```

| continent |  min\_e|
|:----------|-------:|
| Africa    |  23.599|
| Asia      |  28.801|
| Americas  |  37.579|
| Europe    |  43.585|

Part 2: File I/O
================

Let us first create a variable we can experiment with:

``` r
exp_data <- gapminder %>% 
  mutate(continent_redord = fct_reorder(continent, lifeExp, min)) %>% 
  group_by(continent_redord) %>%
  summarize(min_lifeExp = min(lifeExp))

str(exp_data)
```

    ## Classes 'tbl_df', 'tbl' and 'data.frame':    5 obs. of  2 variables:
    ##  $ continent_redord: Factor w/ 5 levels "Africa","Asia",..: 1 2 3 4 5
    ##  $ min_lifeExp     : num  23.6 28.8 37.6 43.6 69.1

``` r
exp_data
```

    ## # A tibble: 5 x 2
    ##   continent_redord min_lifeExp
    ##   <fct>                  <dbl>
    ## 1 Africa                  23.6
    ## 2 Asia                    28.8
    ## 3 Americas                37.6
    ## 4 Europe                  43.6
    ## 5 Oceania                 69.1

Write\_csv()/read\_csv()
------------------------

Let us first try to write the data to file

``` r
write_csv(exp_data, "test_write_to_csv.csv")
```

And then to read from file:

``` r
data_csv <- read_csv("test_write_to_csv.csv")
```

    ## Parsed with column specification:
    ## cols(
    ##   continent_redord = col_character(),
    ##   min_lifeExp = col_double()
    ## )

``` r
data_csv
```

    ## # A tibble: 5 x 2
    ##   continent_redord min_lifeExp
    ##   <chr>                  <dbl>
    ## 1 Africa                  23.6
    ## 2 Asia                    28.8
    ## 3 Americas                37.6
    ## 4 Europe                  43.6
    ## 5 Oceania                 69.1

We observe that the new column `continent_redord` no longer is a factor, but a character.

saveRDS()/readRDS()
-------------------

Let us try to do the same thing, using the saveRDS() and readRDS():

``` r
saveRDS(exp_data, "test_save_to_rds.rds")
```

And then read from .rbs:

``` r
data_rds <- readRDS("test_save_to_rds.rds")
data_rds
```

    ## # A tibble: 5 x 2
    ##   continent_redord min_lifeExp
    ##   <fct>                  <dbl>
    ## 1 Africa                  23.6
    ## 2 Asia                    28.8
    ## 3 Americas                37.6
    ## 4 Europe                  43.6
    ## 5 Oceania                 69.1

dput()/dget()
-------------

Can also use dput()/dget():

``` r
dput(exp_data, "data_txt.txt")
```

``` r
data_txt <- dget("data_txt.txt")
data_txt
```

    ## # A tibble: 5 x 2
    ##   continent_redord min_lifeExp
    ##   <fct>                  <dbl>
    ## 1 Africa                  23.6
    ## 2 Asia                    28.8
    ## 3 Americas                37.6
    ## 4 Europe                  43.6
    ## 5 Oceania                 69.1

Part 3: Visualization design
============================

Let us make a figure based on some basic functions. Want to make a plot that shows how life expectancy has changed throughout the years per continent:

``` r
lexp_cont <- gapminder %>% 
  ggplot(aes(year, lifeExp)) +
  geom_point() +  #just to make things harder to interpret. Might as well use geom_smooth or geom_line
  aes(color = continent) + 
  facet_wrap(~continent) #showing all continents
lexp_cont
```

![](hw05_files/figure-markdown_github/unnamed-chunk-16-1.png)

Instead, let us use some new techniques to obtain a nicer and more informative plot.

Let us first filter out some of the information that might be useful. We want to display some interesting facts about the life expectancy, like mean, max and min for each of the continents.

``` r
filtered_data <- gapminder %>% 
  group_by(year, continent) %>% 
  summarize(min_lexp = min(lifeExp),
            max_lexp = max(lifeExp),
            mean_lexp = mean(lifeExp)) %>% 
  gather(key = "lexp_att", value = "lexp_val", min_lexp, max_lexp, mean_lexp)

lexp_new <- filtered_data %>% 
  ggplot(aes(year, lexp_val, group = lexp_att, color = lexp_att)) +
  scale_y_log10() + 
  geom_point() +
  geom_line() +
  facet_wrap(~continent) + 
  scale_color_discrete("Life expectancy distributions") +
  ylab("Life Expectancy")

lexp_new
```

![](hw05_files/figure-markdown_github/unnamed-chunk-17-1.png)

We see that the way the data is displayed is more informative this way, with lines showing the change in life expectancy per year per continent. This way, the trends are more visible and interpretable.

Plotly
------

Differences:

-   `Plotly` creates reactive plots where you would be able to hover your mouse over the plots to see data values and information, zoom in and out of regions as well as better customization of plots, e.g. color arrangements.
-   ggplots may also be converted into plotly plots.
-   There is also a floating toolbar for additional options and interactions.

This means that `plotly` in general is ment for making web-based graphs.

Let us see how we can apply the plotly function to our new plot:

``` r
#not viewable in document
ggplotly(lexp_new)
```

<!--html_preserve-->

<script type="application/json" data-for="htmlwidget-fd2f6f6cca65f354f9a0">{"x":{"data":[{"x":[1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007],"y":[1.72200835135888,1.76409390017704,1.77992821746108,1.78927744619529,1.80803532844426,1.82648945315066,1.8443839695039,1.85680740662662,1.8669663164229,1.87373899730239,1.87934823624899,1.8833320412506],"text":["year: 1952<br />lexp_val: 52.72400<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1957<br />lexp_val: 58.08900<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1962<br />lexp_val: 60.24600<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1967<br />lexp_val: 61.55700<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1972<br />lexp_val: 64.27400<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1977<br />lexp_val: 67.06400<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1982<br />lexp_val: 69.88500<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1987<br />lexp_val: 71.91300<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1992<br />lexp_val: 73.61500<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1997<br />lexp_val: 74.77200<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 2002<br />lexp_val: 75.74400<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 2007<br />lexp_val: 76.44200<br />lexp_att: max_lexp<br />lexp_att: max_lexp"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"max_lexp","legendgroup":"max_lexp","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)","dash":"solid"},"frame":null},{"x":[1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007],"y":[1.8372727025023,1.84484980080664,1.85308952985187,1.85811593219007,1.86260836396494,1.87046243158892,1.87943996599522,1.88570038012833,1.89181611952486,1.89547779627571,1.90183959205123,1.90662052620997],"text":["year: 1952<br />lexp_val: 68.75000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1957<br />lexp_val: 69.96000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1962<br />lexp_val: 71.30000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1967<br />lexp_val: 72.13000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1972<br />lexp_val: 72.88000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1977<br />lexp_val: 74.21000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1982<br />lexp_val: 75.76000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1987<br />lexp_val: 76.86000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1992<br />lexp_val: 77.95000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1997<br />lexp_val: 78.61000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 2002<br />lexp_val: 79.77000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 2007<br />lexp_val: 80.65300<br />lexp_att: max_lexp<br />lexp_att: max_lexp"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"max_lexp","legendgroup":"max_lexp","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)","dash":"solid"},"frame":null},{"x":[1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007],"y":[1.81551133736276,1.83148583924866,1.84129688749028,1.85388065012454,1.86581438016797,1.87725613311359,1.88711070312488,1.89580915016913,1.89960165914612,1.90681971546655,1.91381385238372,1.91699582044128],"text":["year: 1952<br />lexp_val: 65.39000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1957<br />lexp_val: 67.84000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1962<br />lexp_val: 69.39000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1967<br />lexp_val: 71.43000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1972<br />lexp_val: 73.42000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1977<br />lexp_val: 75.38000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1982<br />lexp_val: 77.11000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1987<br />lexp_val: 78.67000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1992<br />lexp_val: 79.36000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1997<br />lexp_val: 80.69000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 2002<br />lexp_val: 82.00000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 2007<br />lexp_val: 82.60300<br />lexp_att: max_lexp<br />lexp_att: max_lexp"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"max_lexp","legendgroup":"max_lexp","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)","dash":"solid"},"frame":null},{"x":[1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007],"y":[1.86135516019326,1.86611003984438,1.86734961718879,1.87016972113644,1.87343686322204,1.88144172194139,1.88643431962894,1.88879706745668,1.89636084546932,1.89976580194439,1.90644279381703,1.91252494703538],"text":["year: 1952<br />lexp_val: 72.67000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1957<br />lexp_val: 73.47000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1962<br />lexp_val: 73.68000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1967<br />lexp_val: 74.16000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1972<br />lexp_val: 74.72000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1977<br />lexp_val: 76.11000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1982<br />lexp_val: 76.99000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1987<br />lexp_val: 77.41000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1992<br />lexp_val: 78.77000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1997<br />lexp_val: 79.39000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 2002<br />lexp_val: 80.62000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 2007<br />lexp_val: 81.75700<br />lexp_att: max_lexp<br />lexp_att: max_lexp"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"max_lexp","legendgroup":"max_lexp","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)","dash":"solid"},"frame":null},{"x":[1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007],"y":[1.84129688749028,1.84714061741341,1.85272391079121,1.85442750578786,1.85691006030079,1.86622824737965,1.87355309351362,1.88263836169604,1.88963780040667,1.89669152656288,1.90509396832787,1.90974318480619],"text":["year: 1952<br />lexp_val: 69.39000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1957<br />lexp_val: 70.33000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1962<br />lexp_val: 71.24000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1967<br />lexp_val: 71.52000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1972<br />lexp_val: 71.93000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1977<br />lexp_val: 73.49000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1982<br />lexp_val: 74.74000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1987<br />lexp_val: 76.32000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1992<br />lexp_val: 77.56000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 1997<br />lexp_val: 78.83000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 2002<br />lexp_val: 80.37000<br />lexp_att: max_lexp<br />lexp_att: max_lexp","year: 2007<br />lexp_val: 81.23500<br />lexp_att: max_lexp<br />lexp_att: max_lexp"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"max_lexp","legendgroup":"max_lexp","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)","dash":"solid"},"frame":null},{"x":[1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007],"y":[1.59257088679149,1.61559601684271,1.63668285690409,1.65642919865584,1.67624484131479,1.69531022834526,1.7125896485589,1.72709199727592,1.72940437088256,1.7291507658931,1.72693274356988,1.73882841114951],"text":["year: 1952<br />lexp_val: 39.13550<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1957<br />lexp_val: 41.26635<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1962<br />lexp_val: 43.31944<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1967<br />lexp_val: 45.33454<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1972<br />lexp_val: 47.45094<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1977<br />lexp_val: 49.58042<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1982<br />lexp_val: 51.59287<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1987<br />lexp_val: 53.34479<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1992<br />lexp_val: 53.62958<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1997<br />lexp_val: 53.59827<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 2002<br />lexp_val: 53.32523<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 2007<br />lexp_val: 54.80604<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,186,56,1)"}},"hoveron":"points","name":"mean_lexp","legendgroup":"mean_lexp","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":1.88976377952756,"color":"rgba(0,186,56,1)","dash":"solid"},"frame":null},{"x":[1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007],"y":[1.72656291197265,1.74787987883892,1.76640362569331,1.78111544966559,1.79514923221805,1.80882894677538,1.82104714843341,1.83308792648814,1.84241176544842,1.85217783429589,1.85987075395607,1.86692572570539],"text":["year: 1952<br />lexp_val: 53.27984<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1957<br />lexp_val: 55.96028<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1962<br />lexp_val: 58.39876<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1967<br />lexp_val: 60.41092<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1972<br />lexp_val: 62.39492<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1977<br />lexp_val: 64.39156<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1982<br />lexp_val: 66.22884<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1987<br />lexp_val: 68.09072<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1992<br />lexp_val: 69.56836<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1997<br />lexp_val: 71.15048<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 2002<br />lexp_val: 72.42204<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 2007<br />lexp_val: 73.60812<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,186,56,1)"}},"hoveron":"points","name":"mean_lexp","legendgroup":"mean_lexp","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","line":{"width":1.88976377952756,"color":"rgba(0,186,56,1)","dash":"solid"},"frame":null},{"x":[1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007],"y":[1.66571598533657,1.69301024884801,1.7123400557048,1.73769854757764,1.75830064383611,1.77532317525222,1.79669877192724,1.81191789487558,1.82306460017364,1.83263991672656,1.84031866338933,1.8495943546894],"text":["year: 1952<br />lexp_val: 46.31439<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1957<br />lexp_val: 49.31854<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1962<br />lexp_val: 51.56322<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1967<br />lexp_val: 54.66364<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1972<br />lexp_val: 57.31927<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1977<br />lexp_val: 59.61056<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1982<br />lexp_val: 62.61794<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1987<br />lexp_val: 64.85118<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1992<br />lexp_val: 66.53721<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1997<br />lexp_val: 68.02052<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 2002<br />lexp_val: 69.23388<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 2007<br />lexp_val: 70.72848<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,186,56,1)"}},"hoveron":"points","name":"mean_lexp","legendgroup":"mean_lexp","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","line":{"width":1.88976377952756,"color":"rgba(0,186,56,1)","dash":"solid"},"frame":null},{"x":[1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007],"y":[1.80894318505393,1.82414580101992,1.83593924218657,1.843466997174,1.84988008257941,1.85695695086644,1.86216955736958,1.86712655763663,1.87180694787382,1.87797667054376,1.88479876128496,1.89013362982947],"text":["year: 1952<br />lexp_val: 64.40850<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1957<br />lexp_val: 66.70307<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1962<br />lexp_val: 68.53923<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1967<br />lexp_val: 69.73760<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1972<br />lexp_val: 70.77503<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1977<br />lexp_val: 71.93777<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1982<br />lexp_val: 72.80640<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1987<br />lexp_val: 73.64217<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1992<br />lexp_val: 74.44010<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1997<br />lexp_val: 75.50517<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 2002<br />lexp_val: 76.70060<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 2007<br />lexp_val: 77.64860<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,186,56,1)"}},"hoveron":"points","name":"mean_lexp","legendgroup":"mean_lexp","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","line":{"width":1.88976377952756,"color":"rgba(0,186,56,1)","dash":"solid"},"frame":null},{"x":[1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007],"y":[1.84045113360682,1.84692443526684,1.85177796775508,1.85315043644784,1.85678928875332,1.86245936252872,1.8709303583487,1.87691031134463,1.88618040398607,1.89315121312987,1.90167623132638,1.90697846309117],"text":["year: 1952<br />lexp_val: 69.25500<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1957<br />lexp_val: 70.29500<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1962<br />lexp_val: 71.08500<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1967<br />lexp_val: 71.31000<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1972<br />lexp_val: 71.91000<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1977<br />lexp_val: 72.85500<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1982<br />lexp_val: 74.29000<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1987<br />lexp_val: 75.32000<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1992<br />lexp_val: 76.94500<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 1997<br />lexp_val: 78.19000<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 2002<br />lexp_val: 79.74000<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp","year: 2007<br />lexp_val: 80.71950<br />lexp_att: mean_lexp<br />lexp_att: mean_lexp"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,186,56,1)"}},"hoveron":"points","name":"mean_lexp","legendgroup":"mean_lexp","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","line":{"width":1.88976377952756,"color":"rgba(0,186,56,1)","dash":"solid"},"frame":null},{"x":[1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007],"y":[1.47712125471966,1.49927458189222,1.5154366811417,1.53291991425214,1.54900326202579,1.56570617781281,1.58483986523993,1.60103819821779,1.37289360027166,1.55735077960453,1.59320850750924,1.59783773394958],"text":["year: 1952<br />lexp_val: 30.00000<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1957<br />lexp_val: 31.57000<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1962<br />lexp_val: 32.76700<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1967<br />lexp_val: 34.11300<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1972<br />lexp_val: 35.40000<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1977<br />lexp_val: 36.78800<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1982<br />lexp_val: 38.44500<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1987<br />lexp_val: 39.90600<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1992<br />lexp_val: 23.59900<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1997<br />lexp_val: 36.08700<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 2002<br />lexp_val: 39.19300<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 2007<br />lexp_val: 39.61300<br />lexp_att: min_lexp<br />lexp_att: min_lexp"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(97,156,255,1)"}},"hoveron":"points","name":"min_lexp","legendgroup":"min_lexp","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":1.88976377952756,"color":"rgba(97,156,255,1)","dash":"solid"},"frame":null},{"x":[1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007],"y":[1.5749452190785,1.6095517246233,1.63776982915582,1.65352123565215,1.66944705640254,1.69830067531816,1.71147822124981,1.72945638210457,1.74106488893851,1.75336087614335,1.76445261744024,1.78473137800344],"text":["year: 1952<br />lexp_val: 37.57900<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1957<br />lexp_val: 40.69600<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1962<br />lexp_val: 43.42800<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1967<br />lexp_val: 45.03200<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1972<br />lexp_val: 46.71400<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1977<br />lexp_val: 49.92300<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1982<br />lexp_val: 51.46100<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1987<br />lexp_val: 53.63600<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1992<br />lexp_val: 55.08900<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1997<br />lexp_val: 56.67100<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 2002<br />lexp_val: 58.13700<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 2007<br />lexp_val: 60.91600<br />lexp_att: min_lexp<br />lexp_att: min_lexp"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(97,156,255,1)"}},"hoveron":"points","name":"min_lexp","legendgroup":"min_lexp","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","line":{"width":1.88976377952756,"color":"rgba(97,156,255,1)","dash":"solid"},"frame":null},{"x":[1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007],"y":[1.45940756716695,1.48190104731452,1.50510926130359,1.53173430927655,1.55736281408965,1.4944328987264,1.60047191646607,1.61089427837334,1.61986518739165,1.62079168818982,1.62458115056677,1.64175165297699],"text":["year: 1952<br />lexp_val: 28.80100<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1957<br />lexp_val: 30.33200<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1962<br />lexp_val: 31.99700<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1967<br />lexp_val: 34.02000<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1972<br />lexp_val: 36.08800<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1977<br />lexp_val: 31.22000<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1982<br />lexp_val: 39.85400<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1987<br />lexp_val: 40.82200<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1992<br />lexp_val: 41.67400<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1997<br />lexp_val: 41.76300<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 2002<br />lexp_val: 42.12900<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 2007<br />lexp_val: 43.82800<br />lexp_att: min_lexp<br />lexp_att: min_lexp"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(97,156,255,1)"}},"hoveron":"points","name":"min_lexp","legendgroup":"min_lexp","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","line":{"width":1.88976377952756,"color":"rgba(97,156,255,1)","dash":"solid"},"frame":null},{"x":[1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007],"y":[1.63933705032168,1.68195542615362,1.71682105140632,1.73508766422784,1.7559129500089,1.77456805619175,1.78558606434968,1.80008441686108,1.82050358653634,1.83780931675034,1.85030920463238,1.8559853025529],"text":["year: 1952<br />lexp_val: 43.58500<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1957<br />lexp_val: 48.07900<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1962<br />lexp_val: 52.09800<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1967<br />lexp_val: 54.33600<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1972<br />lexp_val: 57.00500<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1977<br />lexp_val: 59.50700<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1982<br />lexp_val: 61.03600<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1987<br />lexp_val: 63.10800<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1992<br />lexp_val: 66.14600<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1997<br />lexp_val: 68.83500<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 2002<br />lexp_val: 70.84500<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 2007<br />lexp_val: 71.77700<br />lexp_att: min_lexp<br />lexp_att: min_lexp"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(97,156,255,1)"}},"hoveron":"points","name":"min_lexp","legendgroup":"min_lexp","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","line":{"width":1.88976377952756,"color":"rgba(97,156,255,1)","dash":"solid"},"frame":null},{"x":[1952,1957,1962,1967,1972,1977,1982,1987,1992,1997,2002,2007],"y":[1.83960372947084,1.84670814545601,1.85082995984853,1.85186960072977,1.85666848361154,1.85865748409081,1.86829168801786,1.87110570098559,1.8826952623816,1.88958180214962,1.8982313845131,1.90419602831668],"text":["year: 1952<br />lexp_val: 69.12000<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1957<br />lexp_val: 70.26000<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1962<br />lexp_val: 70.93000<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1967<br />lexp_val: 71.10000<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1972<br />lexp_val: 71.89000<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1977<br />lexp_val: 72.22000<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1982<br />lexp_val: 73.84000<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1987<br />lexp_val: 74.32000<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1992<br />lexp_val: 76.33000<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 1997<br />lexp_val: 77.55000<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 2002<br />lexp_val: 79.11000<br />lexp_att: min_lexp<br />lexp_att: min_lexp","year: 2007<br />lexp_val: 80.20400<br />lexp_att: min_lexp<br />lexp_att: min_lexp"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(97,156,255,1)"}},"hoveron":"points","name":"min_lexp","legendgroup":"min_lexp","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","line":{"width":1.88976377952756,"color":"rgba(97,156,255,1)","dash":"solid"},"frame":null}],"layout":{"margin":{"t":37.9178082191781,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,0.322461404653185],"automargin":true,"type":"linear","autorange":false,"range":[1949.25,2009.75],"tickmode":"array","ticktext":["1950","1960","1970","1980","1990","2000"],"tickvals":[1950,1960,1970,1980,1990,2000],"categoryorder":"array","categoryarray":["1950","1960","1970","1980","1990","2000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y2","title":"","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"hoverformat":".2f"},"annotations":[{"text":"year","x":0.5,"y":-0.0471841704718417,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis"},{"text":"Life Expectancy","x":-0.0337029789084584,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis"},{"text":"Africa","x":0.161230702326593,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Americas","x":0.5,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Asia","x":0.838769297673407,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Europe","x":0.161230702326593,"y":0.460426179604262,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Oceania","x":0.5,"y":0.460426179604262,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Life expectancy distributions","x":1.02,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"bottom","legendTitle":true}],"yaxis":{"domain":[0.539573820395738,1],"automargin":true,"type":"linear","autorange":false,"range":[1.34568848926318,1.94420093144976],"tickmode":"array","ticktext":["30","50","70"],"tickvals":[1.47712125471966,1.69897000433602,1.84509804001426],"categoryorder":"array","categoryarray":["30","50","70"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.322461404653185,"y0":0.539573820395738,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.322461404653185,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.344205262013481,"x1":0.655794737986519,"y0":0.539573820395738,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.344205262013481,"x1":0.655794737986519,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.677538595346814,"x1":1,"y0":0.539573820395738,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.677538595346814,"x1":1,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.322461404653185,"y0":0,"y1":0.460426179604262},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.322461404653185,"y0":0,"y1":23.37899543379,"yanchor":0.460426179604262,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.344205262013481,"x1":0.655794737986519,"y0":0,"y1":0.460426179604262},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.344205262013481,"x1":0.655794737986519,"y0":0,"y1":23.37899543379,"yanchor":0.460426179604262,"ysizemode":"pixel"}],"xaxis2":{"type":"linear","autorange":false,"range":[1949.25,2009.75],"tickmode":"array","ticktext":["1950","1960","1970","1980","1990","2000"],"tickvals":[1950,1960,1970,1980,1990,2000],"categoryorder":"array","categoryarray":["1950","1960","1970","1980","1990","2000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.344205262013481,0.655794737986519],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y2","title":"","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"hoverformat":".2f"},"xaxis3":{"type":"linear","autorange":false,"range":[1949.25,2009.75],"tickmode":"array","ticktext":["1950","1960","1970","1980","1990","2000"],"tickvals":[1950,1960,1970,1980,1990,2000],"categoryorder":"array","categoryarray":["1950","1960","1970","1980","1990","2000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.677538595346814,1],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y2","title":"","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"hoverformat":".2f"},"yaxis2":{"type":"linear","autorange":false,"range":[1.34568848926318,1.94420093144976],"tickmode":"array","ticktext":["30","50","70"],"tickvals":[1.47712125471966,1.69897000433602,1.84509804001426],"categoryorder":"array","categoryarray":["30","50","70"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,0.460426179604262],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"hoverformat":".2f"},"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"y":0.913385826771654},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"source":"A","attrs":{"e0b129543c51":{"x":{},"y":{},"colour":{},"type":"scatter"},"e0b15943ff09":{"x":{},"y":{},"colour":{}}},"cur_data":"e0b129543c51","visdat":{"e0b129543c51":["function (y) ","x"],"e0b15943ff09":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>
<!--/html_preserve-->
Part 4: Writing figures to file
===============================

Use of ggsave()
---------------

To save figures to a file, we could use the function `ggsave()`. This function has several parameters, like `width`, `height`, `scale`, `dpi`, making it possible to tune the image one wants to save to file. When desired plot is not specified, last plot displayed will be saved.

Saving an arbitrary plot
------------------------

``` r
#Save old plot

ggsave("./ggsave_figs/old_plot_img.png", plot = lexp_cont)
```

    ## Saving 7 x 5 in image

Dimensions
----------

``` r
#default would save the file with the same dimensions as the original plot

ggsave("./ggsave_figs/default_img.png")
```

    ## Saving 7 x 5 in image

``` r
#fixed dimensions height and width:
ggsave("./ggsave_figs/fixed_dim_img.png", width = 10, height = 15)

#scale

ggsave("./ggsave_figs/scale_img.png", scale = 1.5)
```

    ## Saving 10.5 x 7.5 in image

Resolution
----------

``` r
#fixed resolution, high:

ggsave("./ggsave_figs/high_dpi_img.png", dpi = 400)
```

    ## Saving 7 x 5 in image

``` r
#fixed resolution, low:

ggsave("./ggsave_figs/low_dpi_img.png", dpi = 10)
```

    ## Saving 7 x 5 in image

Graphics devices
----------------

``` r
#Vector format
ggsave("./ggsave_figs/eps_img.png", device = "eps")
```

    ## Saving 7 x 5 in image

``` r
#Bmp format
ggsave("./ggsave_figs/bmp_img.png", device = "bmp")
```

    ## Saving 7 x 5 in image
